local Library = loadstring(game:HttpGet('https://raw.githubusercontent.com/leshk19029/testilka/refs/heads/main/library'))()

-- Загружаем модули с GitHub
local SpeedBoostModule = loadstring(game:HttpGet('https://raw.githubusercontent.com/leshk19029/testilka/refs/heads/main/speed'))()
local ESPModule = loadstring(game:HttpGet('https://raw.githubusercontent.com/leshk19029/testilka/refs/heads/main/esp'))()

local Window = Library:CreateMain({
    projName = "Solaris Lib",
    Resizable = true,
    MinSize = UDim2.new(0, 700, 0, 460),
    MaxSize = UDim2.new(0, 1000, 0, 600)
})

local MainTab = Window:CreateCategory("Main")
local MainSection = MainTab:CreateSection("Functions")

-- Инициализируем ESP модуль
ESPModule:Init()

-- Anti Effects Toggle
local AntiEffectsToggle = MainSection:Create("Toggle", "Anti Effects", function(state)
    if state then
        print("Anti Effects enabled")
    else
        print("Anti Effects disabled")
    end
end, {
    default = false
})

-- Speed Boost Toggle
local SpeedBoostToggle = MainSection:Create("Toggle", "Speed Boost", function(state)
    SpeedBoostModule:SetEnabled(state)
    print("Speed Boost " .. (state and "enabled" or "disabled"))
end, {
    default = false
})

-- Speed Value Slider
local SpeedSlider = MainSection:Create("Slider", "Speed Value", function(value)
    SpeedBoostModule:SetSpeed(value)
    print("Speed set to:", value)
    
    if SpeedBoostModule.Enabled then
        SpeedBoostModule:Disable()
        SpeedBoostModule:Enable()
    end
end, {
    min = 1,
    max = 45,
    default = 16,
    precise = true
})

-- ESP Toggle
local ESPToggle = MainSection:Create("Toggle", "ESP", function(state)
    ESPModule:ToggleAll(state)
    print("ESP " .. (state and "enabled" or "disabled"))
end, {
    default = false
})

-- Отдельные ESP опции
local TimerESPToggle = MainSection:Create("Toggle", "Timer ESP", function(state)
    ESPModule:ToggleTimerESP(state)
    print("Timer ESP " .. (state and "enabled" or "disabled"))
end, {
    default = false
})

local NameTagsToggle = MainSection:Create("Toggle", "NameTags", function(state)
    ESPModule:ToggleNameTags(state)
    print("NameTags " .. (state and "enabled" or "disabled"))
end, {
    default = false
})

local WallHackToggle = MainSection:Create("Toggle", "WallHack", function(state)
    ESPModule:ToggleWallHack(state)
    print("WallHack " .. (state and "enabled" or "disabled"))
end, {
    default = false
})

-- Обработка смены персонажа для Speed Boost
SpeedBoostModule.Player.CharacterAdded:Connect(function()
    if SpeedBoostModule.Enabled then
        SpeedBoostModule:Disable()
        SpeedBoostModule:Enable()
    end
end)

SpeedBoostModule.Player.CharacterRemoving:Connect(function()
    SpeedBoostModule:Disable()
end)
