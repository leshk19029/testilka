local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 240, 0, 80)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
frame.BackgroundTransparency = 0.2
frame.BorderSizePixel = 0

local toggle = Instance.new("TextButton", frame)
toggle.Size = UDim2.new(0.9, 0, 0.4, 0)
toggle.Position = UDim2.new(0.05, 0, 0.28, 0)
toggle.Text = "Camera Smooth: ON"
toggle.TextScaled = true
toggle.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
toggle.TextColor3 = Color3.new(1, 1, 1)

local note = Instance.new("TextLabel", frame)
note.Size = UDim2.new(1, 0, 0.25, 0)
note.Position = UDim2.new(0, 0, 0.68, 0)
note.Text = "Note: только визуальная плавность, сервер не affected"
note.TextScaled = true
note.BackgroundTransparency = 1
note.TextColor3 = Color3.new(1, 1, 1)

return toggle
end

local toggleButton = createMenu()

local function updateTargetCFrame(char) local hrp = char:FindFirstChild("HumanoidRootPart") if not hrp then return end local worldOffset = hrp.CFrame:VectorToWorldSpace(offset) local camPos = hrp.Position + worldOffset targetCFrame = CFrame.new(camPos, hrp.Position) end

local currentCharacter = nil local function onCharacterAdded(char) currentCharacter = char updateTargetCFrame(char) end

local function onCharacterRemoving() currentCharacter = nil targetCFrame = nil end

local function enableSmoothCamera() smoothingEnabled = true end

local function disableSmoothCamera() smoothingEnabled = false end

-- Переключатель в меню toggleButton.MouseButton1Click:Connect(function() smoothingEnabled = not smoothingEnabled toggleButton.Text = smoothingEnabled and "Camera Smooth: ON" or "Camera Smooth: OFF" end)

-- Обновление цели камеры при смене персонажа player.CharacterAdded:Connect(function(char) onCharacterAdded(char) end)

player.CharacterRemoving:Connect(onCharacterRemoving)

-- Основной цикл: плавная интерполяция камеры RunService.RenderStepped:Connect(function(dt) if not smoothingEnabled then return end

if not currentCharacter or not currentCharacter.Parent then
    local camChar = player.Character
    if camChar then
        updateTargetCFrame(camChar)
    end
    return
end

if not currentCharacter:FindFirstChild("HumanoidRootPart") then return end

local newCF = targetCFrame
if not newCF then
    updateTargetCFrame(currentCharacter)
    newCF = targetCFrame
    if not newCF then return end
end

-- Небольшая плавность
if camera.CameraType ~= Enum.CameraType.Scriptable then
    camera.CameraType = Enum.CameraType.Scriptable
end
local currentCF = camera.CFrame
local blended = currentCF:Lerp(newCF, 0.15)
camera.CFrame = blended
end)

print("Brainrot: готово. Локальная плавная камера активна. Управление через меню в UI.")
